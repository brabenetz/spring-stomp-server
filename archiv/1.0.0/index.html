<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 at 13. Jun 2020 18:37 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20200613" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Spring Stomp Server &#x2013; </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="https://github.com/brabenetz/spring-stomp-server">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://spring-stomp-server.brabenetz.net" id="bannerLeft">
                <h2>Spring Stomp Server</h2>
                </a>
                      </div>
        <div class="pull-right">                  <a href="https://github.com/brabenetz/spring-stomp-server" id="bannerRight">
                                                                                                <img src="images/github-logo-37px.png"  alt="GitHub"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="publishDate">Last Published: 13. Jun 2020 18:37
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 1.0.0
                      </li>
                      
              
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Spring Stomp Server</li>
                              
      <li class="active">
  
            <a href="#"><span class="none"></span>Overview</a>
          </li>
                
      <li>
  
                          <a href="configuration.html" title="Configuration">
          <span class="none"></span>
        Configuration</a>
            </li>
                
      <li>
  
                          <a href="changes-report.html" title="Changes">
          <span class="none"></span>
        Changes</a>
            </li>
                
      <li>
  
                          <a href="http://spring-stomp-server.brabenetz.net/archiv/" class="externalLink" title="Archiv">
          <span class="none"></span>
        Archiv</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                                  
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-down"></span>
        Project Information</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="ci-management.html" title="CI Management">
          <span class="none"></span>
        CI Management</a>
            </li>
                    
      <li>
  
                          <a href="dependencies.html" title="Dependencies">
          <span class="none"></span>
        Dependencies</a>
            </li>
                    
      <li>
  
                          <a href="dependency-info.html" title="Dependency Information">
          <span class="none"></span>
        Dependency Information</a>
            </li>
                    
      <li>
  
                          <a href="dependency-management.html" title="Dependency Management">
          <span class="none"></span>
        Dependency Management</a>
            </li>
                    
      <li>
  
                          <a href="distribution-management.html" title="Distribution Management">
          <span class="none"></span>
        Distribution Management</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>About</a>
          </li>
                    
      <li>
  
                          <a href="issue-management.html" title="Issue Management">
          <span class="none"></span>
        Issue Management</a>
            </li>
                    
      <li>
  
                          <a href="licenses.html" title="Licenses">
          <span class="none"></span>
        Licenses</a>
            </li>
                    
      <li>
  
                          <a href="plugin-management.html" title="Plugin Management">
          <span class="none"></span>
        Plugin Management</a>
            </li>
                    
      <li>
  
                          <a href="plugins.html" title="Plugins">
          <span class="none"></span>
        Plugins</a>
            </li>
                    
      <li>
  
                          <a href="scm.html" title="Source Code Management">
          <span class="none"></span>
        Source Code Management</a>
            </li>
                    
      <li>
  
                          <a href="summary.html" title="Summary">
          <span class="none"></span>
        Summary</a>
            </li>
                    
      <li>
  
                          <a href="team.html" title="Team">
          <span class="none"></span>
        Team</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
              
                            <form id="search-form" action="https://www.google.com/search" method="get" >
    
  <input value="spring-stomp-server.brabenetz.net" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="https://cse.google.com/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <p><a class="externalLink" href="http://travis-ci.org/brabenetz/spring-stomp-server"><img src="https://secure.travis-ci.org/brabenetz/spring-stomp-server.png?branch=master" alt="Build Status" /></a> <a class="externalLink" href="https://coveralls.io/github/brabenetz/spring-stomp-server?branch=code-quality"><img src="https://coveralls.io/repos/brabenetz/spring-stomp-server/badge.svg?branch=code-quality" alt="Coverage Status" /></a> <a class="externalLink" href="https://scan.coverity.com/projects/brabenetz-spring-stomp-server"><img src="https://scan.coverity.com/projects/10666/badge.svg" alt="Coverity" /></a> <a class="externalLink" href="https://www.codacy.com/app/brabenetz/spring-stomp-server?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=brabenetz/spring-stomp-server&amp;utm_campaign=Badge_Grade"><img src="https://api.codacy.com/project/badge/Grade/8f5c89c8143444b6ae39dddb1f329b8f" alt="Codacy Badge" /></a> <a class="externalLink" href="http://spring-stomp-server.brabenetz.net/archiv/latest/"><img src="https://img.shields.io/badge/Maven-site-blue.svg" alt="Maven site" /></a> <a class="externalLink" href="https://github.com/brabenetz/spring-stomp-server/blob/master/LICENSE.txt"><img src="https://img.shields.io/badge/license-Apache_2.0-brightgreen.svg" alt="License: Apache 2.0" /></a> <a class="externalLink" href="https://maven-badges.herokuapp.com/maven-central/net.brabenetz.lib/spring-stomp-server"><img src="https://maven-badges.herokuapp.com/maven-central/net.brabenetz.app/spring-stomp-server/badge.svg" alt="Maven Central" /></a> <a class="externalLink" href="http://www.javadoc.io/doc/net.brabenetz.app/spring-stomp-server"><img src="http://www.javadoc.io/badge/net.brabenetz.app/spring-stomp-server.svg" alt="Javadocs" /></a></p>
<h1>Spring Stomp Server</h1>
<p>Spring Stomp Server is only a Spring-Boot-Application with a very simple Websocket-Stomp Configurion as described by the Spring Boot Guide: <br />
<a class="externalLink" href="https://spring.io/guides/gs/messaging-stomp-websocket/">https://spring.io/guides/gs/messaging-stomp-websocket/</a></p>
<ul>
<li><a href="#Basic_Idea">Basic Idea</a></li>
<li><a href="#Integration_into_an_angular_application">Integration into an angular application</a>
<ul>
<li><a href="#download_jar_from_the_central_Maven_Repository">download jar from the central Maven Repository</a></li>
<li><a href="#start_the_application_with_java_-jar">start the application with java -jar</a></li></ul></li>
<li><a href="#More_Details">More Details</a></li></ul>
<section>
<h2><a name="Basic_Idea"></a>Basic Idea</h2>
<p>For e2e tests with angular, a Mock-Websocket-Stomp server is needed to also automatically test the Websocket functionality.</p>
<p>The benefit to use Spring Stomp Server as mock websocket endpoint is:</p>
<ul>

<li>It is more realistic if your real enpoint is a spring-boot application</li>
<li>Easy to use, even without java knowledge</li>
</ul>
<p><b>&#x201c;Spring Stomp Server&#x201d; should never be used on a Production System! It is only designed to be used as simple Mock-Server for automatic tests.</b></p></section><section>
<h2><a name="Integration_into_an_angular_application"></a>Integration into an angular application</h2>
<p>the usage can be summerized into two steps:</p>
<ul>

<li>download jar from the central Maven Repository</li>
<li>start the application with &#x201c;<code>java -jar</code>&#x201d;</li>
</ul><section>
<h3><a name="download_jar_from_the_central_Maven_Repository"></a>download jar from the central Maven Repository</h3>
<p>The best way is, to use <b>maven</b> for downloading the artifact:</p>
<p>package.json:</p>

<div class="source">
<div class="source"><pre class="prettyprint linenums">  &quot;scripts&quot;: {
    ...
    &quot;stomp-server:download&quot;: &quot;mvn org.apache.maven.plugins:maven-dependency-plugin:3.0.0:copy -Dartifact=net.brabenetz.app:spring-stomp-server:1.0.0 -DoutputDirectory=./target -Dmdep.stripVersion=true&quot;,
    ...
  },
</pre></div></div>

<p>(Benefit for maven: maven has a local repository where the artifacts are cached. So download will only be done once for all your projects)</p>
<p><b>Alternative</b> download with <b>wget</b>:</p>
<p>package.json:</p>

<div class="source">
<div class="source"><pre class="prettyprint linenums">  &quot;scripts&quot;: {
    ...
    &quot;stomp-server:download&quot;: &quot;wget https://repo1.maven.org/maven2/net/brabenetz/app/spring-stomp-server/1.0.0/spring-stomp-server-1.0.0.jar -O ./target/spring-stomp-server.jar&quot;,
    ...
  },
</pre></div></div>

<p><b>TIP:</b> This step can be add as <b>post install</b> script:</p>
<p>package.json:</p>

<div class="source">
<div class="source"><pre class="prettyprint linenums">  &quot;scripts&quot;: {
    &quot;postinstall&quot;: &quot;npm run stomp-server:download&quot;,
    ...
    &quot;stomp-server:download&quot;: &quot;...&quot;,
    ...
  },
</pre></div></div>

<p>This will execute automatically after &#x201c;npm install&#x201d;.</p></section><section>
<h3><a name="start_the_application_with_java_-jar"></a>start the application with java -jar</h3>
<p>package.json:</p>

<div class="source">
<div class="source"><pre class="prettyprint linenums">  &quot;scripts&quot;: {
    ...
    &quot;stomp-server&quot;: &quot;java -jar -Dserver.port=8182 -Dserver.servlet.context-path=/my-backend-app -Dspring-stomp-server.destination-prefixes=/topic,/app,/user -Dspring-stomp-server.websocket-endpoints=/websocket ./target/spring-stomp-server.jar &quot;,
    ...
  },
</pre></div></div>

<p>With that, the Websocket endpoint will be ws:/localhost:8182/my-backend-app/websocket <br />
And the Stomp Config will listen on all destinations with the prefixes &#x201c;/topic&#x201d;, &#x201c;/app&#x201d;, &#x201c;/user&#x201d;.</p>
<p>For local development you can simply start the server in the background by &#x201c;<code>npm run stomp-server</code>&#x201d;.</p>
<p>For e2e tests, you can do it with the npm package &#x2018;concurrently&#x2019;:</p>
<p>package.json:</p>

<div class="source">
<div class="source"><pre class="prettyprint linenums">  &quot;scripts&quot;: {
    ...
    &quot;e2e&quot;: &quot;concurrently -s first -k --names \&quot;STOMP-SERVER,ANGULAR-CLI\&quot; --prefix \&quot;[{name}]\&quot; \&quot;npm run stomp-server\&quot; \&quot;npm run e2e:ng\&quot;&quot;,
    &quot;e2e:ng&quot;: &quot;ng e2e&quot;,
    ...
  },
</pre></div></div>
</section></section><section>
<h2><a name="More_Details"></a>More Details</h2>
<ul>

<li>Maven Site: <a class="externalLink" href="http://spring-stomp-server.brabenetz.net/archiv/latest/index.html">http://spring-stomp-server.brabenetz.net/archiv/latest/index.html</a></li>
<li>Dependency-Information: <a class="externalLink" href="http://spring-stomp-server.brabenetz.net/archiv/latest/download.html">http://spring-stomp-server.brabenetz.net/archiv/latest/download.html</a></li>
</ul></section>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2020
                        <a href="http://brabenetz.net">Brabenetz Harald, Austria</a>.
            All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
